"use strict";(self.webpackChunkdoc_express=self.webpackChunkdoc_express||[]).push([[158],{6158:function(e,i,l){l.r(i);var n=l(1413),t=l(9439),o=l(6445),u=l(890),s=l(6151),a=l(2455),v=l(5705),d=l(2791),r=l(6030),h=l(6871),c=l(9141),p=l(2774),g=l(5744),f=l(23),m=l(184);i.default=function(){var e=w(),i=(0,h.s0)(),l=(0,r.I0)(),a=(0,d.useState)(!1),x=(0,t.Z)(a,2),F=x[0],b=x[1],k=(0,d.useState)(!1),j=(0,t.Z)(k,2),y=j[0],V=j[1],Z=(0,r.v9)((function(e){return e.ordering})),I=Z.envelops_prices,S=Z.delivery_types,_=Z.packaging,z=Z.route,C=(0,v.TA)({initialValues:{from:"",to:"",delivery_type:"",envelop:"",packaging:"",weight:"",width:"",height:"",length:""},onSubmit:function(e){var i=I.find((function(i){return i.title==e.envelop})),l=S.find((function(i){return i.title==e.delivery_type})),n=_.find((function(i){return i.title==e.packaging}));i&&C.values.weight&&C.values.height&&C.values.length&&C.values.width&&C.values.amountForSize?C.setFieldValue("price",parseInt(C.values.amountForSize)+parseInt(null===i||void 0===i?void 0:i.price)+parseInt(null===l||void 0===l?void 0:l.price)+parseInt(null===n||void 0===n?void 0:n.price)):i?C.setFieldValue("price",parseInt(null===i||void 0===i?void 0:i.price)+parseInt(null===l||void 0===l?void 0:l.price)+parseInt(null===n||void 0===n?void 0:n.price)):C.setFieldValue("price",parseInt(C.values.amountForSize)+parseInt(l.price)+parseInt(n.price))}});return(0,d.useEffect)((function(){z.from&&(C.setFieldValue("from",z.from),C.setFieldValue("to",z.to),C.setFieldValue("envelop",z.envelop),C.setFieldValue("height",z.height),C.setFieldValue("width",z.width),C.setFieldValue("length",z.length),C.setFieldValue("weight",z.weight))}),[z]),(0,d.useEffect)((function(){if(Array.isArray(I)&&C.values.weight&&C.values.height&&C.values.length&&C.values.width){var e,i;C.setFieldValue("envelop",null);var l,n=null===I||void 0===I?void 0:I.find((function(e){var i,l,n,t,o,u;return(null===e||void 0===e||null===(i=e.dimension)||void 0===i?void 0:i.length)>=(null===C||void 0===C||null===(l=C.values)||void 0===l?void 0:l.length)&&(null===e||void 0===e||null===(n=e.dimension)||void 0===n?void 0:n.height)>=(null===C||void 0===C||null===(t=C.values)||void 0===t?void 0:t.height)&&(null===e||void 0===e||null===(o=e.dimension)||void 0===o?void 0:o.width)>=(null===C||void 0===C||null===(u=C.values)||void 0===u?void 0:u.width)}));if((null===n||void 0===n||null===(e=n.dimension)||void 0===e?void 0:e.weight)<(null===C||void 0===C||null===(i=C.values)||void 0===i?void 0:i.weight))C.setFieldValue("amountForSize",(null===n||void 0===n?void 0:n.kilo)*(C.values.weight-(null===n||void 0===n||null===(l=n.dimension)||void 0===l?void 0:l.weight)));if(n)C.setFieldValue("envelop",null===n||void 0===n?void 0:n.title);else{var t,o,u=null===I||void 0===I||null===(t=I.sort((function(e,i){return i.dimension.weight-e.dimension.weight})))||void 0===t?void 0:t.find((function(e){var i,l,n,t,o,u;return(null===e||void 0===e||null===(i=e.dimension)||void 0===i?void 0:i.length)<=(null===C||void 0===C||null===(l=C.values)||void 0===l?void 0:l.length)&&(null===e||void 0===e||null===(n=e.dimension)||void 0===n?void 0:n.height)<=(null===C||void 0===C||null===(t=C.values)||void 0===t?void 0:t.height)&&(null===e||void 0===e||null===(o=e.dimension)||void 0===o?void 0:o.width)<=(null===C||void 0===C||null===(u=C.values)||void 0===u?void 0:u.width)}));C.setFieldValue("amountForSize",C.values.length*C.values.width*C.values.height/1e6*1e3+(null===u||void 0===u?void 0:u.kilo)*(C.values.weight-(null===u||void 0===u||null===(o=u.dimension)||void 0===o?void 0:o.weight))+parseInt(null===u||void 0===u?void 0:u.price))}}C.values.weight&&C.values.height&&C.values.length&&C.values.width||C.setFieldValue("envelop_label",null)}),[C.values.envelop,C.values.weight,C.values.height,C.values.length,C.values.width]),(0,d.useEffect)((function(){l((0,p.Me)()),l((0,p.Ry)())}),[]),(0,d.useEffect)((function(){V(!1)}),[C.values.delivery_type,C.values.packaging,C.values.envelop,C.values.from,C.values.to,C.values.width,C.values.height,C.values.length,C.values.weight]),(0,d.useEffect)((function(){}),[C.values.from,C.values.to]),(0,d.useEffect)((function(){C.values.from&&C.values.to&&l((0,p.xs)(C.values.from,C.values.to))}),[C.values.to]),(0,m.jsx)("section",{style:{padding:"80px 0"},children:(0,m.jsxs)(o.Z,{maxWidth:"xl",children:[(0,m.jsxs)("form",{onSubmit:C.handleSubmit,children:[(0,m.jsx)(u.Z,{variant:"h3",mb:5,sx:{fontSize:"26px!important"},children:"\u041e\u043d\u043b\u0430\u0439\u043d \u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440"}),(0,m.jsx)(u.Z,{variant:"h5",mb:2,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0433\u0440\u0443\u0437\u0430"}),(0,m.jsx)(c.c5,{formik:C,calculator:!0}),(0,m.jsx)(u.Z,{variant:"h5",className:e.subtitle,children:"\u0420\u0430\u0437\u043c\u0435\u0440\u044b \u0433\u0440\u0443\u0437\u0430"}),(0,m.jsx)(c.$u,{formik:C,open:F,setOpen:b}),(0,m.jsx)(u.Z,{variant:"h5",className:e.subtitle,children:"\u0422\u0438\u043f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"}),(0,m.jsx)(f.Z,{formik:C,calculator:!0}),(0,m.jsx)(u.Z,{variant:"h5",className:e.subtitle,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0443 \u0434\u043b\u044f \u0433\u0440\u0443\u0437\u0430"}),(0,m.jsx)(g.Z,{formik:C,calculator:!0}),(0,m.jsx)(s.Z,{variant:"contained",onClick:function(){V(!0),C.submitForm()},disabled:y||!C.values.packaging||!C.values.delivery_type,sx:{mt:5},href:"#price",size:"large",color:"primary",children:"\u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c"})]}),y&&(0,m.jsxs)("div",{id:"price",children:[(0,m.jsxs)(u.Z,{variant:"h5",className:e.subtitle,children:["\u0426\u0435\u043d\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0433\u0440\u0443\u0437\u0430: ",C.values.price," \u0441\u043e\u043c"]}),(0,m.jsx)(s.Z,{variant:"contained",sx:{mt:5},onClick:function(){i("/dashboard/ordering"),l((0,p.LD)((0,n.Z)((0,n.Z)({},C.values),{},{districtCode:C.values.to})))},size:"large",color:"primary",children:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0443"})]})]})})};var w=(0,a.Z)((function(){return{subtitle:{borderTop:"1px solid #C7C7C7",paddingTop:"40px",marginTop:"40px!important",marginBottom:"20px!important"}}}))}}]);
//# sourceMappingURL=158.69ecbb35.chunk.js.map