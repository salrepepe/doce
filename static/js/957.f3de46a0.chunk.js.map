{"version":3,"file":"static/js/957.f3de46a0.chunk.js","mappings":"4QA6HA,UA9GmB,SAAC,GAAgB,IAAdA,EAAa,EAAbA,OACdC,EAAUC,IACVC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACjB,GAAwBC,EAAAA,EAAAA,WAAS,GAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAAgCF,EAAAA,EAAAA,WAAS,GAAzC,eAAOG,EAAP,KAAiBC,EAAjB,KACA,GAA8BJ,EAAAA,EAAAA,WAAS,GAAvC,eAAOK,EAAP,KAAgBC,EAAhB,KA0BA,OAxBAC,EAAAA,EAAAA,YAAU,WACRX,GAASY,EAAAA,EAAAA,OACTZ,GAASa,EAAAA,EAAAA,SAER,KAEHF,EAAAA,EAAAA,YAAU,WACRD,GAAW,GACXb,EAAOiB,cAAc,QAAS,KAC7B,CACDjB,EAAOkB,OAAOC,cACdnB,EAAOkB,OAAOE,UACdpB,EAAOkB,OAAOG,QACdrB,EAAOkB,OAAOI,MACdtB,EAAOkB,OAAOK,OACdvB,EAAOkB,OAAOM,OACdxB,EAAOkB,OAAOO,UAGhBX,EAAAA,EAAAA,YAAU,WACJd,EAAOkB,OAAOQ,MAAQ1B,EAAOkB,OAAOS,IACtCxB,GAASyB,EAAAA,EAAAA,IAAqB5B,EAAOkB,OAAOQ,KAAM1B,EAAOkB,OAAOS,OACjE,CAAC3B,EAAOkB,OAAOS,MAGhB,iCACE,SAAC,IAAD,CACEnB,KAAME,EACNmB,iBAAkB,IAClBC,aAAc,CAAEC,SAAU,MAAOC,WAAY,UAC7CC,QAAS,kBAAMtB,GAAY,IAJ7B,UAME,SAAC,IAAD,CAAOuB,SAAU,UAAWC,QAAQ,cAEtC,qBAASC,UAAWnC,EAAQoC,QAA5B,WACE,kBAAMC,SAAUtC,EAAOuC,aAAvB,WACE,SAAC,IAAD,CAAYJ,QAAQ,KAAKK,GAAI,EAA7B,sHAGA,SAAC,IAAD,CAAYL,QAAQ,KAAKK,GAAI,EAA7B,8FAGA,SAAC,KAAD,CAAexC,OAAQA,EAAQyC,YAAU,KACzC,SAAC,IAAD,CAAYN,QAAQ,KAAKC,UAAWnC,EAAQyC,SAA5C,wFAGA,SAAC,KAAD,CAAM1C,OAAQA,EAAQQ,KAAMA,EAAMC,QAASA,KAC3C,SAAC,IAAD,CAAY0B,QAAQ,KAAKC,UAAWnC,EAAQyC,SAA5C,kFAGA,SAAC,IAAD,CAAO1C,OAAQA,EAAQyC,YAAU,KACjC,SAAC,IAAD,CAAYN,QAAQ,KAAKC,UAAWnC,EAAQyC,SAA5C,kKAGA,SAAC,IAAD,CAAQ1C,OAAQA,EAAQyC,YAAU,KAClC,SAAC,IAAD,CACEN,QAAQ,YACRQ,QAAS,WACP9B,GAAW,GACXb,EAAO4C,cAETC,KAAK,SACLC,SACElC,IACCZ,EAAOkB,OAAOE,YACdpB,EAAOkB,OAAOC,cAEjB4B,GAAI,CAAEC,GAAI,GACVC,KAAK,QACLC,MAAM,UAdR,6EAmBDtC,IACC,iBAAKuC,GAAG,QAAR,WACE,UAAC,IAAD,CAAYhB,QAAQ,KAAKC,UAAWnC,EAAQyC,SAA5C,uHACwB1C,EAAOkB,OAAOkC,MADtC,0BAGA,SAAC,IAAD,CACEjB,QAAQ,YACRY,GAAI,CAAEC,GAAI,GACVL,QAAS,WACPtC,EAAS,uBACTF,GACEkD,EAAAA,EAAAA,IAAgB,CACdC,aAActD,EAAOkB,OAAOS,OAIlCsB,KAAK,QACLC,MAAM,UAZR,yHAyBZ,IAAMhD,GAAYqD,EAAAA,EAAAA,IAAW,SAACC,GAAD,MAAY,CACvCd,SAAU,CACRe,UAAW,oBACXC,WAAY,OACZC,UAAW,iBACXC,aAAc,kBAGhBvB,QAAS,CACP,gBAAe,QACbf,MAAO,OAENkC,EAAMK,YAAYC,KAAK,MAAQ,CAC9BxC,MAAO","sources":["pages/Dashboard/Calculator/index.jsx"],"sourcesContent":["import { Alert, Button, Snackbar, Typography } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useNavigate } from \"react-router\";\nimport { DirectionForm, Size } from \"../../../components/Forms\";\nimport {\n  getDeliveryTypes,\n  getEnvelopesByFilter,\n  getPackaging,\n  setOrderingData,\n} from \"../../../redux/reducers/ordering\";\nimport Fourth from \"../Ordering/Fourth\";\nimport Third from \"../Ordering/Third\";\n\nconst Calculator = ({ formik }) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [open, setOpen] = useState(false);\n  const [snackbar, setSnackbar] = useState(false);\n  const [visbile, setVisible] = useState(false);\n\n  useEffect(() => {\n    dispatch(getDeliveryTypes());\n    dispatch(getPackaging());\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    setVisible(false);\n    formik.setFieldValue(\"price\", 0);\n  }, [\n    formik.values.delivery_type,\n    formik.values.packaging,\n    formik.values.envelop,\n    formik.values.width,\n    formik.values.height,\n    formik.values.length,\n    formik.values.weight,\n  ]);\n\n  useEffect(() => {\n    if (formik.values.from && formik.values.to)\n      dispatch(getEnvelopesByFilter(formik.values.from, formik.values.to));\n  }, [formik.values.to]);\n\n  return (\n    <>\n      <Snackbar\n        open={snackbar}\n        autoHideDuration={2000}\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n        onClose={() => setSnackbar(false)}\n      >\n        <Alert severity={\"success\"} variant=\"filled\"></Alert>\n      </Snackbar>\n      <section className={classes.section}>\n        <form onSubmit={formik.handleSubmit}>\n          <Typography variant=\"h3\" mb={5}>\n            Онлайн калькулятор\n          </Typography>\n          <Typography variant=\"h5\" mb={2}>\n            Отправка груза\n          </Typography>\n          <DirectionForm formik={formik} calculator />\n          <Typography variant=\"h5\" className={classes.subtitle}>\n            Размеры груза\n          </Typography>\n          <Size formik={formik} open={open} setOpen={setOpen} />\n          <Typography variant=\"h5\" className={classes.subtitle}>\n            Тип доставки\n          </Typography>\n          <Third formik={formik} calculator />\n          <Typography variant=\"h5\" className={classes.subtitle}>\n            Выберите упаковку для груза\n          </Typography>\n          <Fourth formik={formik} calculator />\n          <Button\n            variant=\"contained\"\n            onClick={() => {\n              setVisible(true);\n              formik.submitForm();\n            }}\n            href=\"#price\"\n            disabled={\n              visbile ||\n              !formik.values.packaging ||\n              !formik.values.delivery_type\n            }\n            sx={{ mt: 5 }}\n            size=\"large\"\n            color=\"primary\"\n          >\n            рассчитать\n          </Button>\n        </form>\n        {visbile && (\n          <div id=\"price\">\n            <Typography variant=\"h5\" className={classes.subtitle}>\n              Цена доставки груза: {formik.values.price} сом\n            </Typography>\n            <Button\n              variant=\"contained\"\n              sx={{ mt: 5 }}\n              onClick={() => {\n                navigate(\"/dashboard/ordering\");\n                dispatch(\n                  setOrderingData({\n                    districtCode: formik.values.to,\n                  })\n                );\n              }}\n              size=\"large\"\n              color=\"primary\"\n            >\n              Заказать доставку\n            </Button>\n          </div>\n        )}\n      </section>\n    </>\n  );\n};\n\nexport default Calculator;\n\nconst useStyles = makeStyles((theme) => ({\n  subtitle: {\n    borderTop: \"1px solid #C7C7C7\",\n    paddingTop: \"40px\",\n    marginTop: \"40px!important\",\n    marginBottom: \"20px!important\",\n  },\n\n  section: {\n    \"& .direction\": {\n      width: \"71%\",\n\n      [theme.breakpoints.down(\"lg\")]: {\n        width: \"100%\",\n      },\n    },\n  },\n}));\n"],"names":["formik","classes","useStyles","dispatch","useDispatch","navigate","useNavigate","useState","open","setOpen","snackbar","setSnackbar","visbile","setVisible","useEffect","getDeliveryTypes","getPackaging","setFieldValue","values","delivery_type","packaging","envelop","width","height","length","weight","from","to","getEnvelopesByFilter","autoHideDuration","anchorOrigin","vertical","horizontal","onClose","severity","variant","className","section","onSubmit","handleSubmit","mb","calculator","subtitle","onClick","submitForm","href","disabled","sx","mt","size","color","id","price","setOrderingData","districtCode","makeStyles","theme","borderTop","paddingTop","marginTop","marginBottom","breakpoints","down"],"sourceRoot":""}